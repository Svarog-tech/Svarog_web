<!DOCTYPE html>
<html>
<head>
    <title>Supabase Auth Test</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <h1>Supabase Auth Test</h1>
    <button onclick="testSignUp()">Test Registration</button>
    <pre id="result"></pre>

    <script>
        const supabase = window.supabase.createClient(
            'https://ccgxtldxeerwacyekzyk.supabase.co',
            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNjZ3h0bGR4ZWVyd2FjeWVrenlrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NTI4NDEsImV4cCI6MjA3ODMyODg0MX0.SY_7cC1op-rR6-4NDdHkAJBL0viYEsbr_rFlkyOdYMk'
        );

        async function testSignUp() {
            const result = document.getElementById('result');
            result.textContent = 'Testing...';

            const testEmail = `test-${Date.now()}@test.com`;
            const testPassword = 'TestPassword123';

            console.log('Attempting sign up with:', testEmail);

            const { data, error } = await supabase.auth.signUp({
                email: testEmail,
                password: testPassword,
                options: {
                    data: {
                        first_name: 'Test',
                        last_name: 'User'
                    }
                }
            });

            if (error) {
                result.textContent = `❌ ERROR:\n${JSON.stringify(error, null, 2)}`;
                console.error('Sign up error:', error);
            } else {
                result.textContent = `✅ SUCCESS!\n\nUser ID: ${data.user?.id}\nEmail: ${data.user?.email}\nEmail Confirmed: ${data.user?.email_confirmed_at ? 'YES' : 'NO'}\n\nCheck Supabase Dashboard!`;
                console.log('Sign up success:', data);
            }
        }
    </script>
</body>
</html>
